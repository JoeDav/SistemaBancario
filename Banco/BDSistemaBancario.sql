CREATE DATABASE BANCO;
USE BANCO;

-- TABELA DE CLIENTES
CREATE TABLE Clientes (
	ID_Cliente INTEGER PRIMARY KEY AUTO_INCREMENT,
    NomeCliente VARCHAR(100) NOT NULL,
    EnderecoCliente VARCHAR(100) NOT NULL,
    Email VARCHAR(50) NOT NULL UNIQUE,
    CPF_CNPJ BIGINT NOT NULL UNIQUE,    
    Telefone VARCHAR(15) NOT NULL,
    ClienteDesde DATE NOT NULL
);

SELECT * FROM Clientes WHERE NomeCliente LIKE '123';
-- INSERINDO DADOS PARA TESTES NA TABELA CLIENTES
INSERT INTO Clientes (NomeCliente, EnderecoCliente, CPF_CNPJ, Email, Telefone, ClienteDesde) 
VALUES ('Nome Teste', 'EndereÃ§o Teste', '91299229119', 'teste@email.com', '(11)94729-2181', '2019-06-09');
SELECT * FROM CLIENTES;

-- 85251950306
DELETE FROM CLIENTES WHERE ID_CLIENTE > 0;

-- TABELA CONTA
CREATE TABLE CONTA (
	ID_Conta BIGINT PRIMARY KEY AUTO_INCREMENT,
    Saldo DECIMAL(10,2),
    Senha VARCHAR(10) NOT NULL,
    ID_Cliente INT NOT NULL UNIQUE,    
    FOREIGN KEY (ID_Cliente) REFERENCES Clientes (ID_Cliente)
);
-- INSERINDO DADOS PARA TESTES NA TABELA CONTA 
INSERT INTO CONTA (ID_Conta ,ID_Cliente, Saldo, Senha)
VALUES (123, 5, 1585.58, 'a123');
INSERT INTO CONTA (ID_Conta ,ID_Cliente, Saldo, Senha)
VALUES (123, 4, 1585.58, '1asd');

update conta set saldo = 1585.58 where id_conta = 123;

SELECT * FROM CONTA WHERE ID_CONTA = 123;

DELETE FROM CONTA WHERE ID_CLIENTE = 85251950306;


SELECT * FROM CONTA WHERE ID_CONTA = '200110000000' AND SENHA = '1234';
SELECT * FROM CONTA WHERE ID_CONTA = '200110000022' AND SENHA = '1asd';

CREATE TABLE EXTRATO (
	ID_TRANSACAO INT PRIMARY KEY AUTO_INCREMENT,
	ID_CONTA BIGINT NOT NULL,
    VALOR DECIMAL(10,2) NOT NULL,
    TIPO VARCHAR(20) NOT NULL,
    DATA_TRANSACAO DATETIME NOT NULL,
    FOREIGN KEY (ID_CONTA) REFERENCES CONTA (ID_CONTA)
);

INSERT INTO EXTRATO (ID_CONTA, VALOR, TIPO, DATA_TRANSACAO) VALUES (123, 500.00, 'Deposito', '2019-06-15 11:55');
delete from extrato where id_conta = 123;
SELECT * FROM EXTRATO;


